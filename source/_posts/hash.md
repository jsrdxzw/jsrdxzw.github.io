---
title: 一致性Hash算法
date: 2021-07-23 14:30:40
tags: 分布式
---

### Hash算法使用场景
Hash算法在分布式领域中有广泛的应用，比如分布式集群架构Redis、Hadoop、ElasticSearch，Mysql分库分表，Nginx负载均衡等
+ 请求负载均衡(比如nginx的ip_hash策略)
+ 分布式存储
  比如根据key做hash取余数，然后请求不同的redis节点

### 普通Hash算法
普通Hash算法存在这样的问题，即如果其中一个节点宕机了，那么hash的结果就不对了，
如果后台服务器很多台，客户端也有很多，那么影响是很大的，缩容和扩容都会存在这样的问题。
**大量用户的请求会被路由到其他的目标服务器处理**，用户在原来服务器中的会话都会丢失。


### 一致性Hash算法
一致性Hash算法，保证无论是扩容还是缩容，都只影响一小部分的客户端


### 实现一致性Hash算法

### Nginx配置一致性Hash算法
